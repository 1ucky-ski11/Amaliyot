<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chikka -- Pukka</title>
</head>
<body>
<p>Chikka -- Pukka</p>

<button
        onclick="
    playGame('chikka')
"
>Chikka 🌕</button>
<button
        onclick="
    playGame('pukka')
"
>Pukka️ 🌑</button>
<button onclick="
    hisob.tie=0
    hisob.loses=0
    hisob.wins=0
    alert('O\'yin qayta boshlandi hisoblar 0ga tenglashtirildi')
    localStorage.removeItem('hisob')
">
    Qayta boshlash
</button>
</body>
<script>

    let hisob=JSON.parse(localStorage.getItem('hisob'))

    if (hisob === null){
        hisob = {
            tie: 0,
            loses: 0,
            wins: 0
        }
    }


    function playGame(userChoice){
        const computer = computerChoice()

        let result = ''

        if (userChoice === 'Chikka'){
            if(computer === 'Chikka'){
                result = 'Teng'
            }
        }else if (userChoice === 'Pukka'){
            if(computer === 'Pukka'){
                result = 'Teng'
            }

        else if (userChoice === 'Chikka'){
            if(computer === 'Pukka'){
                result = 'G\'alaba qozondingiz'
            }

            else if (userChoice === 'Pukka'){
                if(computer === 'Chikka'){
                    result = 'Yutqazdingiz'
                }
        }
        if (result === 'Teng'){
            hisob.tie++;
        }
        else if (result === 'Yutqazdingiz'){
            hisob.loses++
        }
        else if (result === 'G\'alaba qozondingiz'){
            hisob.wins++
        }

        localStorage.setItem('hisob',JSON.stringify(hisob))

        alert(
            `Siz  ${userChoice} tanladingiz. Komputer esa ${computer} tanladi.Natijada esa ${result},
             G'alaba soni: ${hisob.wins}
             Mag'lubiyat soni: ${hisob.loses}
             Teng: ${hisob.tie}
               `
        )
    }
    function computerChoice() {
        const randomNumber = Math.random()
        let computer = ''
        if (randomNumber >= 0 && randomNumber < 2 / 3) {
            computer = ('Chikka')
        } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
            computer = ('Pukka')
        }
        return computer
        }
</script>
</html>